<!DOCTYPE html>
<html lang="zxx" class="no-js">

<!-- Mirrored from colorlib.com/preview/theme/eclipse/about.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Feb 2019 15:42:10 GMT -->
<!-- Added by HTTrack -->
<meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->

<head>

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="shortcut icon" href="img/fav.png" />

  <meta name="author" content="colorlib" />

  <meta name="description" content="" />

  <meta name="keywords" content="" />

  <meta charset="UTF-8" />

  <title>StudentAssigmentDto</title>
  <link href="https://fonts.googleapis.com/css?family=Playfair+Display:900|Roboto:400,400i,500,700" rel="stylesheet" />

  <link rel="stylesheet" href="css/linearicons.css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" />
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/magnific-popup.css" />
  <link rel="stylesheet" href="css/owl.carousel.css" />
  <link rel="stylesheet" href="css/nice-select.css">
  <link rel="stylesheet" href="css/hexagons.min.css" />
  <link rel="stylesheet" href="../../../../cdn.jsdelivr.net/themify-icons/0.1.2/css/themify-icons.css" />
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

  <style>
    * {
      box-sizing: border-box;
    }

    #myInput {
      background-image: url('img/search.png');
      background-position: 10px 10px;
      background-repeat: no-repeat;
      width: 100%;
      font-size: 16px;
      padding: 12px 20px 12px 40px;
      border: 1px solid #ddd;
      margin-bottom: 12px;
    }

    #myTable {
      border-collapse: collapse;
      width: 100%;
      border: 1px solid #ddd;
      font-size: 18px;
    }

    #myTable th, #myTable td {
      text-align: left;
      padding: 12px;
    }

    #myTable tr {
      border-bottom: 1px solid #ddd;
    }

    #myTable tr.header, #myTable tr:hover {
      background-color: #f1f1f1;
    }
  </style>

</head>

<body>

  <header class="default-header">
    <nav class="navbar navbar-expand-lg  navbar-light">
      <div class="container">
        <a class="navbar-brand" href="index-2.html">
          <img src="img/logo.png" alt="" />
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="lnr lnr-menu"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <li><a href="index-2.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="courses.html">Courses</a></li>

            <li class="dropdown">
              <a class="dropdown-toggle" href="#" data-toggle="dropdown">
                Pages
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="elements.html">Elements</a>
                <a class="dropdown-item" href="course-details.html">Course Details</a>
              </div>
            </li>
            <li class="dropdown">
              <a class="dropdown-toggle" href="#" data-toggle="dropdown">
                Blog
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="blog-home.html">Blog Home</a>
                <a class="dropdown-item" href="blog-single.html">Blog Details</a>
              </div>
            </li>
            <li><a href="contacts.html">Contacts</a></li>
            <li>
              <button class="search">
                <span class="lnr lnr-magnifier" id="search"></span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="search-input" id="search-input-box">
      <div class="container">
        <form class="d-flex justify-content-between">
          <input type="text" class="form-control" id="search-input" placeholder="Search Here" />
          <button type="submit" class="btn"></button>
          <span class="lnr lnr-cross" id="close-search" title="Close Search"></span>
        </form>
      </div>
    </div>
  </header>
  <section style="height: 100px; background: linear-gradient(to bottom, #6600cc 78%, #ffffff 126%)">
  </section>
<br><br>
  <section class="testimonials-area ">
    <div class="container">
      <h1 style="text-align: center">
        Student Assigment
      </h1>
      <br>
      <!-- column -->
      <div class="col-md-4">
        <!-- general form elements -->
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="box-title">ADD Assigment</h3>
          </div>
          <div class="panel-body">
            <form role="form">
              <div class="box-body">
                <br>
                <br>
                <div class="form-group">
                  <input type="text" class="form-control" name="aid" id="aid" placeholder="Assigment ID"/>
                </div>
                <div class="form-group">
                  <input type="text" class="form-control" name="cid" id="cid" placeholder="Course ID"/>
                </div>
                <div class="form-group">
                  <input type="text" class="form-control" name="aname" id="aname" placeholder="Assigment name"/>
                </div>
                <div class="form-group">
                  <p style="color: #90a1b5; margin-left: 5px;"> Assigment Description</p>
                  <div contenteditable="true" class="round2" style="border: 1px solid #ced4da; border-radius: 5px;" name="description" id="description" ></div>
                </div>
                <div class="form-group">
                  <input type="text" class="form-control" name="duedate" id="duedate" placeholder="Due Date"/>
                </div><br><br>
              </div>
              <div class="box-footer" style="text-align: left">
                <button type="reset" class="btn btn-primary" style="width: 45%; margin: 5px;">Reset</button>
                <button type="button" id="btnSave" class="btn btn-primary" style="width: 45%;  margin: 5px;">ADD</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-md-8">
        <!-- general form elements -->
        <div class="panel panel-primary">
          <div class="panel-heading">
            <h3 class="box-title">Assigment Detail</h3>
          </div>
          <div class="panel-body" style="overflow-y: auto; height: 410px;">
            <table id="myTable" class="table table-hover ">
              <thead>
                <tr class="header">
                  <th>Assigment ID</th>
                  <th>Course ID</th>
                  <th>Assigment name</th>
                  <th>Assigment Description</th>
                  <th>Due Date</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>
  </section>


  </br>
  <footer class="section-gap" style="height: 350px; background: linear-gradient(to bottom, #030a1d 88%, #6600cc 126%)">
    <div class="container">
      <div class="row">
        <div class="col-lg-2 col-md-6 single-footer-widget box">
          <h4>Colombo </h4>
          <ul>
            <li>Line : 011 23334567</li>
            <li>Mobile : 0777777777</li>
            <li>Address :Colombo 5</li>
            <li>137 Kirulapone Ave</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget box">
          <h4>Galle </h4>
          <ul>
            <li>Line : 011 23334567</li>
            <li>Mobile : 0777777777</li>
            <li>Address :Colombo 5</li>
            <li>137 Kirulapone Ave</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget box">
          <h4>Kandy </h4>
          <ul>
            <li>Line : 011 23334567</li>
            <li>Mobile : 0777777777</li>
            <li>Address :Colombo 5</li>
            <li>137 Kirulapone Ave</li>
          </ul>
        </div>
        <div class="col-lg-2 col-md-6 single-footer-widget box">
          <h4>Trincomalee </h4>
          <ul>
            <li>Line : 011 23334567</li>
            <li>Mobile : 0777777777</li>
            <li>Address :Colombo 5</li>
            <li>137 Kirulapone Ave</li>
          </ul>
        </div>
        <div class="col-lg-4 col-md-6 single-footer-widget box">
          <ul>
            <li style="text-align: center"><img src="education.gif" alt="Smiley face" height="100" width="100"></li>
            <li style="text-align: center">
              <h3 style="color:white">ABC Instertute</h3>
            </li>
            <li>
              <h4>Email : abc.instertute@gmail.com</h4>
            </li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom row align-items-center">
        <p class="footer-text m-0 col-lg-8 col-md-12">

          Copyright &copy;
          <script>document.write(new Date().getFullYear());</script> All rights reserved | This is a ITPM
          Project. Creat
          <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com/" target="_blank">by
            WE_19_15 Group</a>
        </p>
        <div class="col-lg-4 col-md-12 footer-social">
          <a href="#"><i class="fa fa-facebook"></i></a>
          <a href="#"><i class="fa fa-twitter"></i></a>
          <a href="#"><i class="fa fa-dribbble"></i></a>
          <a href="#"><i class="fa fa-behance"></i></a>
        </div>
      </div>
    </div>
  </footer>

  <script src="js/vendor/jquery-2.2.4.min.js"></script>
  <script src="../../../../cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
    integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
  <script src="js/vendor/bootstrap.min.js"></script>
  <script type="text/javascript"
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBhOdIF3Y9382fqJYt5I_sswSrEw5eihAA"></script>
  <script src="js/jquery.ajaxchimp.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/parallax.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.sticky.js"></script>
  <script src="js/hexagons.min.js"></script>
  <script src="js/jquery.counterup.min.js"></script>
  <script src="js/waypoints.min.js"></script>
  <script src="js/jquery.nice-select.min.js"></script>
  <script src="js/main.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>

  <script>

    <!--footer-->
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-23581568-13');
    <!--footer-->

    <!--front end connector the back end using ajax-->
    var SERVER_URL = "http://localhost:3020";

    $("#btnSave").click(function(){

      if ($("#aid").attr("disabled")){

        var assigment = {
          aid: $("#aid").val(),
          cid: $("#cid").val(),
          aname: $("#aname").val(),
          description: $("#description").text(),
          duedate: $("#duedate").val()
        };

        var ajaxConfig = {
          method: "PUT",
          url: SERVER_URL + "/api/v1/assigments/" + $("#aid").val(),
          async: true,
          contentType: "application/json",
          data: JSON.stringify(assigment)
        }

        $.ajax(ajaxConfig).done(function(response,statusText,jxhr){
          alert("Updated Successfully");
          loadAllAssigment();
          $('button[type="reset"]').trigger("click");
        }).fail(function(jxhr,statusText,error){
          alert("Unable to update the assigment, try again");
          console.log(error);
        });

      }else{

        var assigment = {
          aid: $("#aid").val(),
          cid: $("#cid").val(),
          aname: $("#aname").val(),
          description: $("#description").text(),
          duedate: $("#duedate").val()
        };

        var ajaxConfig = {
          method: "POST",
          url: SERVER_URL + "/api/v1/assigments/",
          async: true,
          contentType: "application/json",
          data: JSON.stringify(assigment)
        }

        $.ajax(ajaxConfig).done(function(response,statusText,jxhr){
          alert("Added Successfully");
          loadAllAssigment();
          $('button[type="reset"]').trigger("click");
        }).fail(function(jxhr,statusText,error){
          alert("Unable to save the assigment, try again");
          console.log(error);
        });


      }

    });

    $('button[type="reset"]').click(function(){
      $("#myTable tbody tr").removeClass("selected-row");
      $("#aid").attr("disabled",false);
    });

    $(document).ready(function(){

      loadAllAssigment();

    });

    function loadAllAssigment(){

      $("#myTable").dataTable().fnDestroy();
      $("#myTable tbody tr").remove();

      var ajaxConfig = {
        method: "GET",
        url:SERVER_URL + "/api/v1/assigments",
        async: true
      };

      $.ajax(ajaxConfig).done(function(assigments,statusText,jxhr){
        console.log(assigments);
        assigments.forEach(function(assigment){

          var html = `<tr>
                          <td>${assigment.aid}</td>
                          <td>${assigment.cid}</td>
                          <td>${assigment.aname}</td>
                          <td>${assigment.description}</td>
                          <td>${assigment.duedate}</td>
                          <td><button type="button" class="btn btn-success delete">Delete</button></td>
                       </tr>`;

          $("#myTable tbody").append(html);

          $("#myTable tbody tr").off("click");
          $("#myTable tbody tr").click(function(){
            $("#myTable tbody tr").removeClass("selected-row");
            $(this).addClass("selected-row");

            $("#aid").val($(this).find("td:first-child").text());
            $("#aid").attr("disabled",true);
            $("#cid").val($(this).find("td:nth-child(2)").text());
            $("#aname").val($(this).find("td:nth-child(3)").text());
            $("#description").text($(this).find("td:nth-child(4)").text());
            $("#duedate").val($(this).find("td:nth-child(5)").text());

          });

          $("button.delete").off("click");
          $("button.delete").click(function(eventData){

            eventData.stopPropagation();

            var row = $(this).parents("tr");
            var assigmentId = (row.find("td:first-child").text());

            if (confirm("Are you sure to delete this assigment?")){

              var ajaxConfig = {
                method : "DELETE",
                url: SERVER_URL + "/api/v1/customers/" + assigmentId,
                async: true
              }

              $.ajax(ajaxConfig).done(function(response,statusText,jxhr){

                $(row).remove();

              }).fail(function(jxhr,statusText,error){

                console.log(jxhr.responseText);

              });

            }
          });

        });

        $('#myTable').DataTable({
          'paging'      : true,
          'lengthChange': false,
          'searching'   : true,
          'ordering'    : true,
          'info'        : true,
          'autoWidth'   : true,
          'pageLength'  : 6,
          language: {
            search: "_INPUT_",
            searchPlaceholder: "Search Assigment..."
          }
        });

      }).fail(function(jxhr,statusText,error){
        console.log(error);
      });
    }

    <!--front end connector the back end using ajax-->
  </script>

</body>

<!-- Mirrored from colorlib.com/preview/theme/eclipse/about.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 17 Feb 2019 15:42:10 GMT -->

</html>
